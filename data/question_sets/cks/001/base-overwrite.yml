# CKS 001 不安全覆蓋配置 - 精準匹配考試題目需求
# 僅包含與 27 個 CKS 考試題目直接相關的不安全設定
# 基於官方 Kubespray 變數標準

# ===================================================================
# 題目 3: API Server 禁止匿名訪問配置
# ===================================================================

# 啟用匿名訪問 (考生需要禁用以通過題目 3)
kube_api_anonymous_auth: true

# 不自動移除匿名訪問綁定 (考生需要手動設為 true)
remove_anonymous_access: false

# ===================================================================
# 題目 8: Audit Log 稽核日誌配置
# ===================================================================

# 禁用 Kubernetes 審計 (考生需要啟用以通過題目 8)
kubernetes_audit: false

# ===================================================================
# 題目 25: Cilium NetworkPolicy 配置
# 題目 13,14: NetworkPolicy 訪問控制
# ===================================================================

# 使用 Cilium CNI 支援高級網路策略和 CiliumNetworkPolicy
kube_network_plugin: cilium

# ===================================================================
# 題目 1: 容器運行時類 (Runtime Class) 配置
# ===================================================================

# 使用 containerd 容器運行時 (RuntimeClass 需要 containerd 支援)
container_manager: containerd

# ===================================================================
# 考試環境配置說明
# ===================================================================
# 
# 此配置檔案僅包含與實際 CKS 考試題目直接相關的不安全設定：
# 
# 🎯 直接對應的考試題目：
# - 題目 1: RuntimeClass 配置 → container_manager: containerd
# - 題目 3: API Server 匿名訪問 → kube_api_anonymous_auth: true  
# - 題目 8: 審計日誌配置 → kubernetes_audit: false
# - 題目 13,14: NetworkPolicy → kube_network_plugin: cilium
# - 題目 25: Cilium 進階網路策略 → kube_network_plugin: cilium
# 
# ✅ 已移除的無關配置：
# - Secret 加密、資源預留、DNS 配置、代理模式、證書管理等
# - 這些配置與 27 個考試題目無直接關聯，不會影響考試體驗
# 
# 📝 注意事項：
# - 其他安全問題 (RBAC、SecurityContext、NetworkPolicy 等) 需要在
#   kubespray 部署完成後透過額外腳本和手動配置準備
# - 此配置專注於 kubespray 層級的核心不安全設定