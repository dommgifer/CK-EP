# CKS 001 ä¸å®‰å…¨è¦†è“‹é…ç½® - ç²¾æº–åŒ¹é…è€ƒè©¦é¡Œç›®éœ€æ±‚
# åƒ…åŒ…å«èˆ‡ 27 å€‹ CKS è€ƒè©¦é¡Œç›®ç›´æ¥ç›¸é—œçš„ä¸å®‰å…¨è¨­å®š
# åŸºæ–¼å®˜æ–¹ Kubespray è®Šæ•¸æ¨™æº–

# ===================================================================
# é¡Œç›® 3: API Server ç¦æ­¢åŒ¿åè¨ªå•é…ç½®
# ===================================================================

# å•Ÿç”¨åŒ¿åè¨ªå• (è€ƒç”Ÿéœ€è¦ç¦ç”¨ä»¥é€šéé¡Œç›® 3)
kube_api_anonymous_auth: true

# ä¸è‡ªå‹•ç§»é™¤åŒ¿åè¨ªå•ç¶å®š (è€ƒç”Ÿéœ€è¦æ‰‹å‹•è¨­ç‚º true)
remove_anonymous_access: false

# ===================================================================
# é¡Œç›® 8: Audit Log ç¨½æ ¸æ—¥èªŒé…ç½®
# ===================================================================

# ç¦ç”¨ Kubernetes å¯©è¨ˆ (è€ƒç”Ÿéœ€è¦å•Ÿç”¨ä»¥é€šéé¡Œç›® 8)
kubernetes_audit: false

# ===================================================================
# é¡Œç›® 25: Cilium NetworkPolicy é…ç½®
# é¡Œç›® 13,14: NetworkPolicy è¨ªå•æ§åˆ¶
# ===================================================================

# ä½¿ç”¨ Cilium CNI æ”¯æ´é«˜ç´šç¶²è·¯ç­–ç•¥å’Œ CiliumNetworkPolicy
kube_network_plugin: cilium

# ===================================================================
# é¡Œç›® 1: å®¹å™¨é‹è¡Œæ™‚é¡ (Runtime Class) é…ç½®
# ===================================================================

# ä½¿ç”¨ containerd å®¹å™¨é‹è¡Œæ™‚ (RuntimeClass éœ€è¦ containerd æ”¯æ´)
container_manager: containerd

# ===================================================================
# è€ƒè©¦ç’°å¢ƒé…ç½®èªªæ˜
# ===================================================================
# 
# æ­¤é…ç½®æª”æ¡ˆåƒ…åŒ…å«èˆ‡å¯¦éš› CKS è€ƒè©¦é¡Œç›®ç›´æ¥ç›¸é—œçš„ä¸å®‰å…¨è¨­å®šï¼š
# 
# ğŸ¯ ç›´æ¥å°æ‡‰çš„è€ƒè©¦é¡Œç›®ï¼š
# - é¡Œç›® 1: RuntimeClass é…ç½® â†’ container_manager: containerd
# - é¡Œç›® 3: API Server åŒ¿åè¨ªå• â†’ kube_api_anonymous_auth: true  
# - é¡Œç›® 8: å¯©è¨ˆæ—¥èªŒé…ç½® â†’ kubernetes_audit: false
# - é¡Œç›® 13,14: NetworkPolicy â†’ kube_network_plugin: cilium
# - é¡Œç›® 25: Cilium é€²éšç¶²è·¯ç­–ç•¥ â†’ kube_network_plugin: cilium
# 
# âœ… å·²ç§»é™¤çš„ç„¡é—œé…ç½®ï¼š
# - Secret åŠ å¯†ã€è³‡æºé ç•™ã€DNS é…ç½®ã€ä»£ç†æ¨¡å¼ã€è­‰æ›¸ç®¡ç†ç­‰
# - é€™äº›é…ç½®èˆ‡ 27 å€‹è€ƒè©¦é¡Œç›®ç„¡ç›´æ¥é—œè¯ï¼Œä¸æœƒå½±éŸ¿è€ƒè©¦é«”é©—
# 
# ğŸ“ æ³¨æ„äº‹é …ï¼š
# - å…¶ä»–å®‰å…¨å•é¡Œ (RBACã€SecurityContextã€NetworkPolicy ç­‰) éœ€è¦åœ¨
#   kubespray éƒ¨ç½²å®Œæˆå¾Œé€éé¡å¤–è…³æœ¬å’Œæ‰‹å‹•é…ç½®æº–å‚™
# - æ­¤é…ç½®å°ˆæ³¨æ–¼ kubespray å±¤ç´šçš„æ ¸å¿ƒä¸å®‰å…¨è¨­å®š